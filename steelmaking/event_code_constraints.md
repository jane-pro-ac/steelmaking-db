炼钢事件顺序与约束规范（Simulation Prompt）

⸻

一、总体约束（全局）

1. 主实体
	•	炉次（heat_no）：贯穿 BOF → LF → RH → CCM

⸻

1. 通用事件规则
	•	所有 开始 / 结束 事件 必须成对出现
	•	结束 不允许早于对应 开始
	•	取消 事件出现后：
        -	当前工序及后续工序取消，proc_status 设为 3（canceled）
    •   回炉 时间出现后：
        -   当前工序回到从 处理开始 事件继续。

⸻

二、BOF（转炉）事件顺序（G12xxx）

1. 炉次生命周期（硬顺序）

G12001 钢包到达
  ↓
G12003 处理开始
  ↓
G12005 炉次开始

约束
	•	炉次开始 必须发生在 处理开始 之后
	•	处理开始 前禁止任何加料、喷吹、取样事件

⸻

2. BOF 处理过程事件（循环区）

以下事件 只能发生在 炉次开始 ~ 炉次结束 之间
顺序可变，次数不限

投料 / 配料

G12017 加废钢
G12018 兑铁水
G12008 加料
G12019 合金配料下发
G12020 造渣料配料下发

冶炼控制

G12021 氧枪喷吹开始
G12022 氧枪喷吹结束

检测 / 化验

G12009 钢水取样 → G12010 收到钢水化验
G12011 钢渣取样 → G12012 收到钢渣化验
G12013 钢水测温
G12014 钢水定氢
G12015 钢水定氧
G12016 钢水定碳

后期操作

G12023 扒渣开始 → G12024 扒渣结束


⸻

3. 出钢与结束（硬顺序）

G12025 出钢开始
  ↓
G12026 出钢结束
  ↓
G12027 钢包底吹开始
  ↓
G12028 钢包底吹结束
  ↓
G12006 炉次结束
  ↓
G12004 处理结束
  ↓
G12002 钢包离开


⸻

4. 异常事件

G12007 炉次取消

约束
	•	可发生于 炉次开始 之后、炉次结束 之前
	•	出现后标记当前工序及后续所有工序为 取消 状态，proc_status 设为 3（canceled）


⸻

三、LF（精炼）事件顺序（G13xxx）

1. 主流程（硬顺序）

G13001 钢包到达
  ↓
G13003 处理开始
  ↓
G13005 炉次开始


⸻

2. LF 处理循环区（高度可循环）

加料 / 喂丝

G13009 加料
G13010 喂丝

电弧 / 能量

G13022 通电开始
  ↔
G13020 变压器换挡
G13021 电流换挡
  ↔
G13023 通电结束

气体搅拌

G13024 吹氩开始 → G13025 吹氩结束
G13018 软吹开始 → G13019 软吹结束

检测

G13011 钢水取样 → G13012 收到钢水化验
G13013 钢渣取样 → G13014 收到钢渣化验
G13015 钢水测温
G13016 钢水定氢
G13017 钢水定氧


⸻

3. 结束（硬顺序）

G13006 炉次结束
  ↓
G13004 处理结束
  ↓
G13002 钢包离开


⸻

4. 异常

G13007 炉次回炉
G13008 炉次取消


⸻

四、RH（真空精炼）事件顺序（G15xxx）

1. 主流程

G15001 钢包到达
  ↓
G15003 处理开始
  ↓
G15005 炉次开始（顶升到位）


⸻

2. 真空核心顺序（强约束）

G15022 开始抽真空
  ↓
G15023 达到高真空
  ↓
G15024 真空结束（破空）


⸻

3. 真空期间允许事件

G15009 加料
G15010 喂丝
G15018 软吹开始 → G15019 软吹结束
G15020 底搅拌开始 → G15021 底搅拌结束
G15025 氩气换挡

检测

G15011 ~ G15017


⸻

4. 结束

G15006 炉次结束（顶升结束）
  ↓
G15004 处理结束
  ↓
G15002 钢包离开


⸻

5. 异常

G15007 炉次回炉
G15008 炉次取消


⸻

五、CCM（连铸）事件顺序（G16xxx）

1. 炉次级（L）

G16008 炉次到受包位
  ↓
G16009 炉次到浇注位
  ↓
G16010 炉次开浇

过程操作

G16006 大包加料
G16007 大包测温


⸻

2. 中包 / 浇次级（J）

G16003 中包开浇
G16001 中包加料
G16002 中包测温
G16004 中包停浇
G16005 中包热换


⸻

3. 铸流级（J）

G16016 铸流开浇
  ↓
G16017 铸流停浇


⸻

4. 钢坯级（B）

G16018 铸坯产生
  ↓
G16019 拉尾坯开始
  ↓
G16020 拉尾坯结束
  ↓
G16021 开始切割
  ↓
G16022 切割完成


⸻

5. 炉次结束

G16011 炉次停浇
  ↓
G16012 炉次吊走
  ↓
G16013 炉次切割完成
  ↓
G16014 炉次喷号完成


⸻

6. 异常

G16015 炉次开浇取消


⸻

六、使用建议

请严格按照上述事件顺序与约束生成事件流。
禁止违反开始/结束配对、跨工序、越权事件。
异常事件出现后立即终止当前工序。
